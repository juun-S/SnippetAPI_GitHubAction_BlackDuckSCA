# κ°€μ΄λ“: Black Duck μ¤λ‹ν« μ¤μΊ” μ›ν¬ν”λ΅μ° ν™μ©ν•κΈ°

μ΄ λ¬Έμ„λ” `.github/workflows/blackduck-snippet-scan.yml` GitHub Action μ›ν¬ν”λ΅μ°μ μ„¤μ • λ° κ²°κ³Ό ν™μ©λ²•μ„ μ•λ‚΄ν•©λ‹λ‹¤.

## 1. μ›ν¬ν”λ΅μ° μ‹¤ν–‰ λ°©λ²•

μ΄ μ›ν¬ν”λ΅μ°λ” λ³„λ„μ μλ™ μ‹¤ν–‰ μ—†μ΄, **μƒλ΅μ΄ Pull Request (PR)λ¥Ό μƒμ„±ν•κ±°λ‚ κΈ°μ΅΄ PRμ— μƒλ΅μ΄ μ½”λ“λ¥Ό ν‘Έμ‹(push)ν•  λ•λ§λ‹¤ μλ™μΌλ΅ μ‹¤ν–‰**λ©λ‹λ‹¤.

μ›ν¬ν”λ΅μ°λ” PRμ—μ„ **μ¶”κ°€λκ±°λ‚ μμ •λ μ½”λ“ λΌμΈλ§μ„ μ¶”μ¶**ν•μ—¬ Black Duck μ¤λ‹ν« μ¤μΊ”μ„ μ§„ν–‰ν•©λ‹λ‹¤. λ§μ•½ μ½”λ“ λ³€κ²½ μ‚¬ν•­μ΄ μ—†κ±°λ‚ νμΌ μ‚­μ λ§ μλ” κ²½μ°μ—λ” μ¤μΊ”μ„ κ±΄λ„λλ‹λ‹¤.

## 2. ν•„μ μ„¤μ •
μ΄ μ›ν¬ν”λ΅μ°κ°€ μ •μƒμ μΌλ΅ λ™μ‘ν•λ ¤λ©΄, GitHub μ €μ¥μ†μ— λ‹¤μ `Repository secrets`μ™€ `Repository variables`κ°€ μ„¤μ •λμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤.

- **Secrets**:
  - `BLACKDUCKSCA_TOKEN`: Black Duck API ν† ν°.
  - `GH_TOKEN`: PRμ— μ½”λ©νΈλ¥Ό μ‘μ„±ν•κ³  μ›ν¬ν”λ΅μ° μƒνƒλ¥Ό μ—…λ°μ΄νΈν•κΈ° μ„ν• GitHub ν† ν°.
- **Variables**:
  - `BLACKDUCKSCA_URL`: μ‚¬μ© μ¤‘μΈ Black Duck μ„λ²„μ URL.

## 2. μ¤μΊ” κ²°κ³Ό ν™•μΈ

μ›ν¬ν”λ΅μ° μ‹¤ν–‰μ΄ μ™„λ£λλ©΄, μ¤μΊ” κ²°κ³Όλ” λ‘ κ°€μ§€ ν•νƒλ΅ λ‚νƒ€λ‚©λ‹λ‹¤.

1.  **PR μ½”λ©νΈ**: μ¤λ‹ν«μ΄ ν•λ‚ μ΄μƒ λ°κ²¬λλ©΄, GitHub Action λ΄‡μ΄ PRμ— μ•„λμ™€ κ°™μ€ μ½”λ©νΈλ¥Ό μλ™μΌλ΅ μ‘μ„±ν•©λ‹λ‹¤. μ΄ μ½”λ©νΈμ—λ” λ°κ²¬λ λ¨λ“  μ¤λ‹ν«μ μ •λ³΄κ°€ ν…μ΄λΈ” ν•νƒλ΅ μ”μ•½λμ–΄ μμµλ‹λ‹¤.

    > ### :shield: Black Duck Snippet Scan Results
    > 
    > The following open source snippets were detected in the added code:
    > 
    > | Risk | Component | Version | License | License Family |
    > |:----:|:----------|:--------|:--------|:---------------|
    > | π”΄ | `example-component` | `1.2.3` | AGPL-3.0-only | AGPL |
    > | π΅ | `another-component` | `2.0.0` | MPL-2.0 | WEAK_RECIPROCAL |
    > | πΆ | `safe-component` | `3.1.4` | MIT | PERMISSIVE |

2.  **μ›ν¬ν”λ΅μ° μƒνƒ**: PRμ ν•λ‹¨μ— ν‘μ‹λλ” CI/CD μ²΄ν¬ ν•­λ©μ—μ„ `Black Duck Snippet Scan` μ›ν¬ν”λ΅μ°μ μ„±κ³µ/μ‹¤ν¨ μ—¬λ¶€λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.

    λν•, μ¤μΊ” λ€μƒ μ½”λ“μ ν¬κΈ°κ°€ Black Duck APIμ ν—μ© λ²”μ„(300λ°”μ΄νΈ ~ 50000λ°”μ΄νΈ)λ¥Ό λ²—μ–΄λ‚λ” κ²½μ°, μ›ν¬ν”λ΅μ°λ” μ¤μΊ”μ„ κ±΄λ„λ›°κ³  κ²½κ³  λ©”μ‹μ§€λ¥Ό ν‘μ‹ν•©λ‹λ‹¤.


## 3. κ²°κ³Ό ν•΄μ„ λ° μ΅°μΉ μ‚¬ν•­

μ¤μΊ” κ²°κ³Ό ν…μ΄λΈ”μ κ° ν•­λ©μ€ λ‹¤μκ³Ό κ°™μ€ μλ―Έλ¥Ό κ°€μ§‘λ‹λ‹¤.

-   **Risk**: λΌμ΄μ„ μ¤ μ„ν—λ„λ¥Ό μƒ‰μƒμΌλ΅ λ‚νƒ€λƒ…λ‹λ‹¤. (π”΄ λ†’μ, π΅ μ¤‘κ°„, πΆ λ‚®μ)
-   **Component**: μ¤λ‹ν«μ΄ μ λν• μ›λ³Έ μ¤ν”μ†μ¤ μ»΄ν¬λ„νΈμ μ΄λ¦„μ…λ‹λ‹¤.
-   **Version**: ν•΄λ‹Ή μ»΄ν¬λ„νΈμ λ²„μ „μ…λ‹λ‹¤.
-   **License**: λΌμ΄μ„ μ¤μ SPDX ID μ…λ‹λ‹¤.
-   **License Family**: λΌμ΄μ„ μ¤ κ·Έλ£Ή(κµ°)μ…λ‹λ‹¤. (μ: `RECIPROCAL`, `PERMISSIVE`)

### μ„ν—λ„(Risk)μ— λ”°λ¥Έ μ΅°μΉ λ°©λ²•

#### π”΄ λ†’μ (High Risk)

-   **μλ―Έ**: `AGPL`, `GPL` λ“±κ³Ό κ°™μ€ **μƒνΈμ£Όμ(Reciprocal)** λΌμ΄μ„ μ¤κ°€ λ°κ²¬λ κ²½μ°μ…λ‹λ‹¤. μ΄ λΌμ΄μ„ μ¤λ” μ†μ¤ μ½”λ“ κ³µκ° μλ¬΄λ¥Ό λ°μƒμ‹ν‚¬ μ μμ–΄ λΉ„μ¦λ‹μ¤μ— ν° μν–¥μ„ μ¤„ μ μμµλ‹λ‹¤.
-   **μ›ν¬ν”λ΅μ° μƒνƒ**: **μ‹¤ν¨ (Failed)**. PRμ— λΉ¨κ°„μƒ‰ β μ²΄ν¬κ°€ ν‘μ‹λλ©°, μ„¤μ •μ— λ”°λΌ λ³‘ν•©(merge)μ΄ μ°¨λ‹¨λ  μ μμµλ‹λ‹¤.
-   **μ΅°μΉ μ‚¬ν•­**:
    1.  ν•΄λ‹Ή μ½”λ“κ°€ λ°λ“μ‹ ν•„μ”ν•μ§€ κ²€ν† ν•©λ‹λ‹¤.
    2.  **λ²•λ¬΄/μ»΄ν”λΌμ΄μ–Έμ¤ν€μ— κ²€ν† λ¥Ό μ”μ²­**ν•μ—¬ λΌμ΄μ„ μ¤ μλ¬΄ μ‚¬ν•­μ„ μ¤€μν•  μ μλ”μ§€ ν™•μΈν•΄μ•Ό ν•©λ‹λ‹¤.
    3.  κ²€ν†  κ²°κ³Όμ— λ”°λΌ, ν•΄λ‹Ή μ½”λ“λ¥Ό **λ‹¤λ¥Έ λΌμ΄μ„ μ¤λ¥Ό κ°€μ§„ μ½”λ“λ΅ λ€μ²΄ν•κ±°λ‚ μ§μ ‘ κµ¬ν„**ν•λ” κ²ƒμ„ κ³ λ ¤ν•΄μ•Ό ν•©λ‹λ‹¤.

#### π΅ μ¤‘κ°„ (Medium Risk)

-   **μλ―Έ**: `MPL`, `EPL` λ“±κ³Ό κ°™μ€ **μ•½ν• μƒνΈμ£Όμ(Weak Reciprocal)** λΌμ΄μ„ μ¤κ°€ λ°κ²¬λ κ²½μ°μ…λ‹λ‹¤. μΌλ°μ μΌλ΅ νμΌ λ‹¨μ„μ μ†μ¤ μ½”λ“ κ³µκ° μλ¬΄λ¥Ό κ°€μ§‘λ‹λ‹¤.
-   **μ›ν¬ν”λ΅μ° μƒνƒ**: **μ„±κ³µ (Success)**. ν•μ§€λ§ κ²½κ³ μ μλ―Έλ¥Ό κ°€μ§‘λ‹λ‹¤.
-   **μ΅°μΉ μ‚¬ν•­**:
    1.  νμ‚¬μ μ¤ν”μ†μ¤ μ •μ±…μ„ ν™•μΈν•μ—¬ ν•΄λ‹Ή λΌμ΄μ„ μ¤κ°€ ν—μ©λλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
    2.  μμ •ν• νμΌμ— λ€ν• λΌμ΄μ„ μ¤ κ³ μ§€ λ“±, ν•΄λ‹Ή λΌμ΄μ„ μ¤κ°€ μ”κµ¬ν•λ” μλ¬΄ μ‚¬ν•­μ„ μ΄ν–‰ν•΄μ•Ό ν•  μ μμµλ‹λ‹¤.

#### πΆ λ‚®μ (Low Risk)

-   **μλ―Έ**: `MIT`, `Apache`, `BSD` λ“±κ³Ό κ°™μ€ **ν—μ©μ μΈ(Permissive)** λΌμ΄μ„ μ¤μ…λ‹λ‹¤. μµμ†ν•μ μ μ•½ μ΅°κ±΄λ§ κ°€μ§€λ―€λ΅ μΌλ°μ μΌλ΅ μ‚¬μ©ν•κΈ°μ— μ•μ „ν•©λ‹λ‹¤.
-   **μ›ν¬ν”λ΅μ° μƒνƒ**: **μ„±κ³µ (Success)**.
-   **μ΅°μΉ μ‚¬ν•­**: λ³„λ„μ μ΅°μΉκ°€ ν•„μ”ν•μ§€ μ•μ€ κ²½μ°κ°€ λ€λ¶€λ¶„μ…λ‹λ‹¤.

## 4. μ›ν¬ν”λ΅μ° μ‚¬μ©μ μ •μ (Customization)

νμ‚¬μ μ •μ±…μ— λ”°λΌ λΌμ΄μ„ μ¤ μ„ν—λ„ κΈ°μ¤€μ„ λ³€κ²½ν•κ³  μ‹¶λ‹¤λ©΄, `.github/workflows/blackduck-snippet-scan.yml` νμΌμ `Process scan results and comment on PR` μ¤ν…μ— μλ” `github-script` λ‚΄μ©μ„ μμ •ν•  μ μμµλ‹λ‹¤.

```javascript
// ...
// μ„ν—λ„ κΈ°μ¤€μ„ μ •μν•λ” λ¶€λ¶„ (Process scan results and comment on PR μ¤ν…)
const highRiskFamilies = [\'RECIPROCAL\', \'AGPL\'];
const mediumRiskFamilies = [\'WEAK_RECIPROCAL\'];
// ...
```

μ„ λ°°μ—΄μ— λΌμ΄μ„ μ¤ ν¨λ°€λ¦¬ μ΄λ¦„μ„ μ¶”κ°€ν•κ±°λ‚ μ κ±°ν•μ—¬ μ„ν—λ„ κΈ°μ¤€μ„ μ΅°μ •ν•  μ μμµλ‹λ‹¤.
